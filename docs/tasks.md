# Visual Table Canvas for Markdown - タスク一覧

## Phase 1: プロジェクトセットアップ

- [x] VSCode拡張機能プロジェクトの初期化（yo code）
- [x] 開発環境のセットアップ（TypeScript, webpack等）
- [x] package.jsonの設定（activationEvents, contributes等）

---

## Phase 2: Markdownテーブル検出・CodeLens

- [x] Markdownテーブルのパーサー実装
  - [x] テーブルの開始・終了行の検出
  - [x] テーブルデータの抽出（2次元配列へ変換）
- [x] CodeLensプロバイダーの実装
  - [x] 各テーブル上部に「Edit」リンクを表示
  - [x] 複数テーブル対応

---

## Phase 3: Webview Panel基盤

- [x] Webview Panel の作成
- [x] Extension ↔ Webview 間のメッセージ通信基盤
- [x] テーブルデータの受け渡し

---

## Phase 4: テーブル編集UI（基本）

- [x] グリッドレイアウトの実装
  - [x] 列ヘッダー（A, B, C...）の表示
  - [x] 行ヘッダー（1, 2, 3...）の表示
  - [x] セルの表示
- [x] セル選択機能
  - [x] 単一セル選択（クリック）
  - [x] 複数セル選択（ドラッグ）
  - [x] 選択状態の視覚的フィードバック

---

## Phase 5: セル編集機能

- [x] セル選択モードの実装
- [x] セル編集モードの実装
  - [x] F2キーで編集モード開始
  - [x] その他キーで編集モード開始 + 値入力
  - [x] Enter で確定
  - [x] Esc でキャンセル
  - [x] Alt + Enter でセル内改行

---

## Phase 6: キーボードナビゲーション

- [x] Tab: 次のセルに移動
- [x] Shift + Tab: 前のセルに移動
- [x] Enter: 下のセルに移動
- [x] 方向キー: 対応する方向へ移動

---

## Phase 7: 行・列ヘッダー操作

- [x] 行ヘッダークリックで行選択
- [x] 列ヘッダークリックで列選択
- [x] 複数行・複数列の選択
- [x] 右クリックメニューの実装
  - [x] 選択した行/列を削除
  - [x] コピーした行/列を挿入（条件付き表示）
  - [x] 空行/列を前に挿入（数量入力UI）
  - [x] 空行/列を後に挿入（数量入力UI）

---

## Phase 8: コピー＆ペースト

- [x] Ctrl + C: 選択範囲のコピー（セル/行/列）
- [x] Ctrl + V: ペースト機能
  - [x] 複数セル選択 + 単一セルコピー → 全選択範囲に適用
  - [x] 単一セル選択 + 複数セルコピー → 始点から貼り付け
  - [x] 複数セル選択 + 同サイズコピー → そのまま貼り付け
  - [x] 複数セル選択 + 異サイズコピー → エラー表示
- [x] 行/列のCtrl+C/Ctrl+V（置換方式）
  - [x] 複数行/列選択 + 単一行/列コピー → 全選択範囲に適用
  - [x] 単一行/列選択 + 複数行/列コピー → 始点から貼り付け
  - [x] 複数行/列選択 + 同サイズコピー → そのまま貼り付け
  - [x] 複数行/列選択 + 異サイズコピー → エラー表示

---

## Phase 9: Undo機能

- [ ] アクション履歴の管理
- [ ] Ctrl + Z: 元に戻す
  - [ ] セル編集確定のUndo
  - [ ] ペーストのUndo
  - [ ] 行/列追加のUndo
  - [ ] 行/列削除のUndo
  - [ ] セルクリアのUndo

---

## Phase 10: Delete機能

- [ ] Delete キーで選択範囲をクリア

---

## Phase 11: 保存機能

- [ ] onDidDisposeイベントの監視
- [ ] 変更検知ロジック
- [ ] 確認ダイアログ表示
- [ ] テーブルデータ → Markdown変換
- [ ] WorkspaceEdit APIでファイル更新

---

## Phase 12: テスト・品質保証

- [ ] 単体テストの作成
- [ ] E2Eテストの作成
- [ ] エッジケースの検証
  - [ ] 空のテーブル
  - [ ] 1行/1列のテーブル
  - [ ] セル内に特殊文字を含むテーブル
  - [ ] セル内に改行を含むテーブル

---

## Phase 13: ドキュメント・リリース

- [ ] README.mdの作成
- [ ] CHANGELOG.mdの作成
- [ ] VSCode Marketplaceへの公開準備
